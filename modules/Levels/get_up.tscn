[gd_scene load_steps=19 format=2]

[ext_resource path="res://modules/Structures/ramp/ramp.tscn" type="PackedScene" id=1]
[ext_resource path="res://modules/Interactive/Ship/Ship.tscn" type="PackedScene" id=3]
[ext_resource path="res://modules/Structures/circuitBoard/med/circuit_board_dark.tres" type="Material" id=4]
[ext_resource path="res://modules/Structures/circuitBoard/circuit_board.obj" type="ArrayMesh" id=5]
[ext_resource path="res://modules/Interactive/Checkpoint/Checkpoint.tscn" type="PackedScene" id=6]
[ext_resource path="res://modules/Player/Player.tscn" type="PackedScene" id=7]
[ext_resource path="res://modules/Powerlines/Pylons/static/PylonStatic.tscn" type="PackedScene" id=8]
[ext_resource path="res://modules/Structures/block/platform.tscn" type="PackedScene" id=9]
[ext_resource path="res://modules/Powerlines/Pylons/input/PylonInput.tscn" type="PackedScene" id=10]
[ext_resource path="res://modules/Structures/wall/wall.obj" type="ArrayMesh" id=11]
[ext_resource path="res://share/scripts/open_door.gd" type="Script" id=12]
[ext_resource path="res://share/scripts/Puzzle.gd" type="Script" id=13]
[ext_resource path="res://share/audio/CG_Door_Open.wav" type="AudioStream" id=14]
[ext_resource path="res://share/audio/CG_Door_Close.wav" type="AudioStream" id=15]

[sub_resource type="ConvexPolygonShape" id=1]
points = PoolVector3Array( -0.068783, -6.38385, -11.7301, 0.0687695, -6.38385, -11.7301, -0.068783, -6.38385, 11.7301, -0.068783, 6.38385, -11.7301, 0.0687695, 6.38385, -11.7301, 0.0687695, -6.38385, 11.7301, -0.068783, 6.38385, 11.7301, 0.0687695, 6.38385, 11.7301 )

[sub_resource type="ConvexPolygonShape" id=4]
points = PoolVector3Array( -0.068783, -6.38385, -11.7301, 0.0687695, -6.38385, -11.7301, -0.068783, -6.38385, 11.7301, -0.068783, 6.38385, -11.7301, 0.0687695, 6.38385, -11.7301, 0.0687695, -6.38385, 11.7301, -0.068783, 6.38385, 11.7301, 0.0687695, 6.38385, 11.7301 )

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( -16, 0, -16, -16, 0.25, -16, 16, 0, -16, -16, 0, 16, -16, 0.25, 16, 16, 0.25, -16, 16, 0, 16, 16, 0.25, 16 )

[sub_resource type="PhysicsMaterial" id=3]

[node name="Level" type="Spatial"]

[node name="Objects" type="Spatial" parent="."]

[node name="Player" parent="Objects" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.262085, 2.40992, 4.61738 )
starting_checkpoint = NodePath("../Ship/Checkpoint")

[node name="ceiling" type="RigidBody" parent="Objects"]
transform = Transform( -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -19.1327, 6.41691, 0 )
mode = 1

[node name="wall" type="MeshInstance" parent="Objects/ceiling"]
transform = Transform( 1, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0 )
mesh = ExtResource( 11 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Objects/ceiling"]
transform = Transform( 1, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0 )
shape = SubResource( 1 )

[node name="ramp" parent="Objects" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.33246, 1.101, 7.89978 )

[node name="Wall" type="RigidBody" parent="Objects"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.453, 6.315, 0 )
mode = 1

[node name="wall" type="MeshInstance" parent="Objects/Wall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 4, 0, 0, 0 )
mesh = ExtResource( 11 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Objects/Wall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 4, 0, 0, 0 )
shape = SubResource( 4 )

[node name="CircuitBoard" type="RigidBody" parent="Objects"]
transform = Transform( -1, 0, -8.74228e-08, 8.74228e-08, -4.37114e-08, -1, -3.82137e-15, -1, 4.37114e-08, -9.59965, 3.25194, 2.41386 )
mode = 1

[node name="circuit_board" type="MeshInstance" parent="Objects/CircuitBoard"]
transform = Transform( 0.2, -5.82335e-22, -3.34075e-23, -5.82335e-22, 0.2, 0, -3.34075e-23, 0, 0.2, -12.7792, 0.139513, 4.01411 )
mesh = ExtResource( 5 )
material/0 = ExtResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Objects/CircuitBoard"]
transform = Transform( 0.2, -5.29396e-22, -3.34075e-23, -5.29396e-22, 0.2, 0, -3.34075e-23, 0, 0.2, -12.7792, 0.139513, 4.01411 )
shape = SubResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="Objects/CircuitBoard"]
transform = Transform( 1, 0, 0, 0, 0.954885, 0.296975, 0, -0.296975, 0.954885, 0, 4.68374, 0 )
visible = false
editor_only = true

[node name="CircuitBoard2" type="RigidBody" parent="Objects"]
transform = Transform( -1, 0, -8.74228e-08, 8.74228e-08, -4.37114e-08, -1, -3.82137e-15, -1, 4.37114e-08, -9.59965, 3.25194, 5.744 )
mode = 1

[node name="circuit_board" type="MeshInstance" parent="Objects/CircuitBoard2"]
transform = Transform( 0.2, -5.82335e-22, -3.34075e-23, -5.82335e-22, 0.2, 0, -3.34075e-23, 0, 0.2, -12.7792, 0.139513, 4.01411 )
mesh = ExtResource( 5 )
material/0 = ExtResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Objects/CircuitBoard2"]
transform = Transform( 0.2, -5.29396e-22, -3.34075e-23, -5.29396e-22, 0.2, 0, -3.34075e-23, 0, 0.2, -12.7792, 0.139513, 4.01411 )
shape = SubResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="Objects/CircuitBoard2"]
transform = Transform( 1, 0, 0, 0, 0.954885, 0.296975, 0, -0.296975, 0.954885, 0, 4.68374, 0 )
visible = false
editor_only = true

[node name="ramp2" parent="Objects" instance=ExtResource( 1 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 5.40074, 1.10336, 0 )

[node name="Ship" parent="Objects" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.256, 4.5 )
speed = 1.0
max_x = 0.0
min_x = -20.0
max_z = 20.0
min_z = -20.0

[node name="Checkpoint" parent="Objects/Ship" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.100835, 0.153919, 0.0357642 )
physics_material_override = SubResource( 3 )

[node name="PylonStatic" parent="Objects" instance=ExtResource( 8 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -29.149, 2.74433, -11.9179 )
input_color = Color( 0.32549, 0.784314, 0.258824, 1 )
output_color = Color( 0.431373, 0.215686, 0.576471, 1 )

[node name="platform" parent="Objects" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -29.149, 2.74433, -11.9179 )

[node name="PylonStatic2" parent="Objects" instance=ExtResource( 8 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 2.2786, 2.74433, -30.8194 )
input_color = Color( 0.866667, 0.309804, 0.180392, 1 )
output_color = Color( 0.431373, 0.215686, 0.572549, 1 )

[node name="platform2" parent="Objects" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.2786, 2.74433, -30.8194 )

[node name="DevLights" type="Spatial" parent="."]
visible = false

[node name="DirectionalLight" type="DirectionalLight" parent="DevLights"]
transform = Transform( 0.866025, 0.25, -0.433013, 0, 0.866025, 0.5, 0.5, -0.433013, 0.75, 0, 9.65701, 0 )
light_color = Color( 0.12549, 0.0196078, 0.105882, 1 )
light_energy = 5.0
light_indirect_energy = 0.0
light_bake_mode = 2

[node name="DirectionalLight2" type="DirectionalLight" parent="DevLights"]
transform = Transform( -0.5, -0.433013, 0.75, 0, 0.866025, 0.5, -0.866025, 0.25, -0.433013, 0, 9.65701, 0 )
light_color = Color( 0.12549, 0.0196078, 0.105882, 1 )
light_energy = 5.0
light_indirect_energy = 0.0
light_bake_mode = 2

[node name="DirectionalLight3" type="DirectionalLight" parent="DevLights"]
transform = Transform( -0.279539, 0.475948, 0.833866, 0.414558, 0.843193, -0.342298, -0.866025, 0.25, -0.433013, 0, 9.65701, 0 )
light_color = Color( 0.12549, 0.0196078, 0.105882, 1 )
light_energy = 5.0
light_indirect_energy = 0.0
light_bake_mode = 2

[node name="Puzzle" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 10.5, -0.159, 4.216 )
script = ExtResource( 13 )
activate_node = NodePath("Puzzle2/door2/door")
piece_paths = [ NodePath("PylonInput") ]

[node name="PylonInput" parent="Puzzle" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10.1143, 2.415, 25.4752 )
input_color = Color( 0.431373, 0.215686, 0.576471, 1 )
output_color = Color( 0.431373, 0.215686, 0.576471, 1 )

[node name="platform3" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10.1224, 2.415, 25.4425 )

[node name="Puzzle2" type="Spatial" parent="Puzzle"]
script = ExtResource( 13 )
activate_node = NodePath("door2")
piece_paths = [ NodePath("PylonInput2") ]

[node name="PylonInput2" parent="Puzzle/Puzzle2" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -42.3645, 2.50249, 8.07466 )
input_color = Color( 0.431373, 0.215686, 0.572549, 1 )
output_color = Color( 0.431373, 0.215686, 0.572549, 1 )

[node name="platform4" parent="Puzzle/Puzzle2" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -42.3726, 2.50249, 8.04191 )

[node name="door2" type="Spatial" parent="Puzzle/Puzzle2"]
script = ExtResource( 12 )
open_axis = "Y"
open_position = -2.5

[node name="door" parent="Puzzle/Puzzle2/door2" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0 )
script = ExtResource( 12 )
open_position = -4.0

[node name="doorOpen" type="AudioStreamPlayer3D" parent="Puzzle/Puzzle2/door2/door"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.5, 0, 8.75 )
stream = ExtResource( 14 )
unit_size = 7.6
max_db = 1.0

[node name="doorClose" type="AudioStreamPlayer3D" parent="Puzzle/Puzzle2/door2/door"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.5, 0, 8.75 )
stream = ExtResource( 15 )
unit_size = 7.6
max_db = 1.0

[node name="doorOpen" type="AudioStreamPlayer3D" parent="Puzzle/Puzzle2/door2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.5, 0, 8.75 )
stream = ExtResource( 14 )
unit_size = 7.6
max_db = 1.0

[node name="doorClose" type="AudioStreamPlayer3D" parent="Puzzle/Puzzle2/door2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.5, 0, 8.75 )
stream = ExtResource( 15 )
unit_size = 7.6
max_db = 1.0

[node name="Checkpoint" parent="Puzzle" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.174515, 0 )

[node name="platform4" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 0.866025, -0.5, 0, 0.5, 0.866025, 0.0839682, -0.585, -7.71064 )

[node name="platform5" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 0.866025, -0.5, 0, 0.5, 0.866025, 0.0839682, 3.415, -14.7106 )

[node name="platform8" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 0.866025, -0.5, 0, 0.5, 0.866025, 0.0839682, 0.415, -25.7106 )

[node name="platform9" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( 0.965926, -0.12941, -0.224144, 0, 0.866025, -0.5, 0.258819, 0.482963, 0.836516, 1.08397, 0.415, -32.7106 )

[node name="platform10" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( 0.866025, -0.25, -0.433013, 0, 0.866025, -0.5, 0.5, 0.433013, 0.75, 3.08397, 0.415, -41.7106 )

[node name="platform11" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( 0.5, -0.433013, -0.75, 0, 0.866025, -0.5, 0.866025, 0.25, 0.433013, 10.084, 0.415, -47.7106 )

[node name="platform6" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( -1, -4.37114e-08, -7.57103e-08, 0, 0.866025, -0.5, 8.74228e-08, -0.5, -0.866025, 0.0839682, 7.415, -1.71064 )

[node name="platform7" parent="Puzzle" instance=ExtResource( 9 )]
transform = Transform( -1, -4.37114e-08, -7.57103e-08, 0, 0.866025, -0.5, 8.74228e-08, -0.5, -0.866025, 0.0839682, 11.415, 5.28936 )

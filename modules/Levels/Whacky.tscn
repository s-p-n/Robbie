[gd_scene load_steps=13 format=2]

[ext_resource path="res://share/scripts/open_door.gd" type="Script" id=2]
[ext_resource path="res://share/scripts/Puzzle.gd" type="Script" id=3]
[ext_resource path="res://share/audio/CG_Door_Close.wav" type="AudioStream" id=4]
[ext_resource path="res://share/audio/CG_Door_Open.wav" type="AudioStream" id=5]
[ext_resource path="res://modules/Structures/wall/Wall.tscn" type="PackedScene" id=6]
[ext_resource path="res://modules/Powerlines/Pylons/input/PylonInput.tscn" type="PackedScene" id=7]
[ext_resource path="res://modules/Structures/block/platform.tscn" type="PackedScene" id=8]
[ext_resource path="res://modules/Powerlines/Pylons/static/PylonStatic.tscn" type="PackedScene" id=9]
[ext_resource path="res://modules/Interactive/Battery/battery.tscn" type="PackedScene" id=10]
[ext_resource path="res://modules/Interactive/Checkpoint/Checkpoint.tscn" type="PackedScene" id=11]
[ext_resource path="res://modules/Structures/block/block.obj" type="ArrayMesh" id=16]

[sub_resource type="ConcavePolygonShape" id=6]
data = PoolVector3Array( -4, 4, -1, 4, 4, -1, -4, 4, 1, -4, 4, 1, 4, 4, -1, 4, 4, 1, 4, 4, 1, 4, -4, 1, -4, 4, 1, -4, 4, 1, 4, -4, 1, -4, -4, 1, -4, 4, 1, -4, -4, 1, -4, 4, -1, -4, 4, -1, -4, -4, 1, -4, -4, -1, 4, -4, -1, -4, -4, -1, 4, -4, 1, 4, -4, 1, -4, -4, -1, -4, -4, 1, 4, 4, -1, 4, -4, -1, 4, 4, 1, 4, 4, 1, 4, -4, -1, 4, -4, 1, -4, 4, -1, -4, -4, -1, 4, 4, -1, 4, 4, -1, -4, -4, -1, 4, -4, -1 )

[node name="Whacky" type="Spatial"]

[node name="Walls" type="Spatial" parent="."]

[node name="block-441" type="RigidBody" parent="Walls"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 1.4657, -35.4014, -54.9584 )
mode = 1
__meta__ = {
"_edit_group_": true
}

[node name="block-441" type="MeshInstance" parent="Walls/block-441"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 1 )
mesh = ExtResource( 16 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-441"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 1 )
shape = SubResource( 6 )

[node name="block-442" type="RigidBody" parent="Walls"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 1.4657, -23.9685, -54.9584 )
mode = 1
__meta__ = {
"_edit_group_": true
}

[node name="block-441" type="MeshInstance" parent="Walls/block-442"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 0 )
mesh = ExtResource( 16 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-442"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 0 )
shape = SubResource( 6 )

[node name="block-443" type="RigidBody" parent="Walls"]
transform = Transform( -4.37114e-08, -4.37114e-08, 1, -1, -4.37114e-08, -4.37114e-08, 4.37114e-08, -1, -4.37114e-08, 11.5368, -24.2723, -54.9584 )
mode = 1
__meta__ = {
"_edit_group_": true
}

[node name="block-441" type="MeshInstance" parent="Walls/block-443"]
transform = Transform( 2.51995, 1.72858e-14, -1.81797e-16, -7.10543e-15, 6.13043, 9.27233e-16, 2.2906e-15, -2.84217e-14, 0.2, 0, 0, 0 )
mesh = ExtResource( 16 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-443"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 0 )
shape = SubResource( 6 )

[node name="block-444" type="RigidBody" parent="Walls"]
transform = Transform( -4.37114e-08, -4.37114e-08, 1, -1, -4.37114e-08, -4.37114e-08, 4.37114e-08, -1, -4.37114e-08, 1.04429, -24.2723, -54.9584 )
mode = 1
__meta__ = {
"_edit_group_": true
}

[node name="block-441" type="MeshInstance" parent="Walls/block-444"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 0 )
mesh = ExtResource( 16 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-444"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 0 )
shape = SubResource( 6 )

[node name="block-445" type="RigidBody" parent="Walls"]
transform = Transform( -4.37114e-08, -4.37114e-08, 1, -1, -4.37114e-08, -4.37114e-08, 4.37114e-08, -1, -4.37114e-08, -8.58069, -24.2723, -54.9584 )
mode = 1
__meta__ = {
"_edit_group_": true
}

[node name="block-441" type="MeshInstance" parent="Walls/block-445"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 0 )
mesh = ExtResource( 16 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-445"]
transform = Transform( 2.51995, 0, 0, 0, 6.13043, 0, 0, 0, 0.2, 0, 0, 0 )
shape = SubResource( 6 )

[node name="block-446" type="RigidBody" parent="Walls"]
transform = Transform( 1, 0, 0, 0, 1, 6.3573e-08, 0, -6.3573e-08, 1, 11.5, -19.72, -90.935 )
mode = 1

[node name="block-441" type="MeshInstance" parent="Walls/block-446"]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 0.2, 0.999996, -1, 0 )
mesh = ExtResource( 16 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-446"]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 0.2, 0.999996, 0, 0 )
shape = SubResource( 6 )

[node name="block-447" type="RigidBody" parent="Walls"]
transform = Transform( -4.37114e-08, 0, -1, 6.3573e-08, 1, -2.77887e-15, 1, -6.3573e-08, -4.37114e-08, 20.5, -20.72, -83.1626 )
mode = 1
__meta__ = {
"_edit_group_": true
}

[node name="block-441" type="MeshInstance" parent="Walls/block-447"]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 0.2, 0, 0, 0 )
mesh = ExtResource( 16 )
skeleton = NodePath("../../block-446")
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-447"]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 0.2, 0, 0, 0 )
shape = SubResource( 6 )

[node name="block-448" type="RigidBody" parent="Walls"]
transform = Transform( -2.41161e-08, 1, 1.13133e-08, -0.5, -2.18557e-08, 0.866025, 0.866025, 1.52285e-08, 0.5, -3.5, -31.1864, -90.3796 )
mode = 1

[node name="block-441" type="MeshInstance" parent="Walls/block-448"]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 0.2, 0, 0, 0 )
mesh = ExtResource( 16 )
skeleton = NodePath("../../block-446")
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Walls/block-448"]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 0.2, 0, 0, 0 )
shape = SubResource( 6 )

[node name="OmniLight" type="OmniLight" parent="Walls"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.16121, -29.3363, -56.0229 )
omni_range = 20.0

[node name="OmniLight2" type="OmniLight" parent="Walls"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.16121, -29.3363, -44.0229 )
omni_range = 20.0

[node name="OmniLight3" type="OmniLight" parent="Walls"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.16121, -29.3363, -72.0229 )
omni_range = 20.0

[node name="platform" parent="Walls" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, -3.36512, -32.3739, -33.7522 )

[node name="platforms" type="Spatial" parent="."]

[node name="platform" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.875393, -33.7624, -83.9478 )

[node name="platform3" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 0.866025, -0.5, 0, 0.5, 0.866025, 0, 0, 0, 1, 8.24662, -31.7867, -83.9478 )

[node name="platform8" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 15.5931, -29.8132, -83.9478 )

[node name="platform9" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 15.5931, -27.5969, -78.628 )

[node name="platform13" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 15.5931, -24.8132, -71.9478 )

[node name="platform14" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 23.5931, -24.8132, -71.9478 )

[node name="platform15" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 23.5931, -24.8132, -79.9478 )

[node name="platform16" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 23.5931, -24.8132, -93.9478 )

[node name="platform19" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 23.5931, -24.8132, -87.9478 )

[node name="platform17" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 15.5931, -24.8132, -93.9478 )

[node name="platform18" parent="platforms" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.59307, -24.8132, -93.9478 )

[node name="Puzzle2" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.14441e-05, -17.3596, -23.9119 )
visible = false
script = ExtResource( 3 )
activate_node = NodePath("Door")
piece_paths = [ NodePath("Door/PylonInput") ]

[node name="Door" type="Spatial" parent="Puzzle2"]
transform = Transform( -1, 5.2108e-15, -7.25216e-08, -7.45058e-09, 1, -5.96046e-08, 7.25216e-08, 5.96046e-08, -1, 3.8147e-06, -3.78236, -16 )
script = ExtResource( 2 )
open_axis = "Y"
open_position = -12.75

[node name="Obj" parent="Puzzle2/Door" instance=ExtResource( 6 )]
transform = Transform( -5.96046e-08, -7.45058e-09, 1, -5.96046e-08, 1, 1.2666e-07, -1, -5.66244e-07, 1.78814e-07, -3.8147e-06, -3.05176e-05, -3.05176e-05 )

[node name="PylonInput" parent="Puzzle2/Door" instance=ExtResource( 7 )]
transform = Transform( 1, -1.42109e-14, 2.98023e-08, -3.72529e-08, 2.98023e-08, -1, 2.98023e-08, 1, -5.96046e-08, 3.08794, 0, -0.316589 )

[node name="doorOpen" type="AudioStreamPlayer3D" parent="Puzzle2/Door"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -64, 37.5, 118.75 )
stream = ExtResource( 5 )
unit_size = 7.6
max_db = 1.0

[node name="doorClose" type="AudioStreamPlayer3D" parent="Puzzle2/Door"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -64, 37.5, 118.75 )
stream = ExtResource( 4 )
unit_size = 7.6
max_db = 1.0

[node name="Obj5" parent="Puzzle2/Door" instance=ExtResource( 6 )]
transform = Transform( -3.35102e-08, -0.5, 1.92386e-09, 0.473471, -3.25481e-08, -0.160703, 0.160703, -7.7512e-09, 0.473471, 0.733807, -1.96221, -5.64899 )

[node name="Puzzle3" type="Spatial" parent="."]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 12.2785, -23.4466, -69.0232 )
visible = false
script = ExtResource( 3 )
activate_node = NodePath("Door")
piece_paths = [ NodePath("PylonInput") ]

[node name="PylonInput" parent="Puzzle3" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.90677, -11.2004, -18.5053 )

[node name="PylonInput2" parent="Puzzle3" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, -1.77636e-15, 0.999998, 1.42108e-14, 0, 0, 1, -5.84778, -0.799484, -6.21136 )

[node name="Door" type="Spatial" parent="Puzzle3"]
transform = Transform( -1, 5.32907e-15, -8.9407e-08, -7.45058e-09, 1, -5.96046e-08, 8.9407e-08, 5.96046e-08, -1, 0, -4, -16 )
script = ExtResource( 2 )
open_axis = "Y"
open_position = -12.0

[node name="doorOpen" type="AudioStreamPlayer3D" parent="Puzzle3/Door"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -64, 37.5, 118.75 )
stream = ExtResource( 5 )
unit_size = 7.6
max_db = 1.0

[node name="doorClose" type="AudioStreamPlayer3D" parent="Puzzle3/Door"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -64, 37.5, 118.75 )
stream = ExtResource( 4 )
unit_size = 7.6
max_db = 1.0

[node name="Puzzle" type="Spatial" parent="Puzzle3/Door"]
transform = Transform( 1, 0, 0, -1.77636e-15, 1, 1.77636e-15, 0, -3.55271e-15, 1, 0, 0, 0 )
script = ExtResource( 3 )
activate_node = NodePath("Door2")
piece_paths = [ NodePath("../../PylonInput2") ]

[node name="Door2" type="Spatial" parent="Puzzle3/Door/Puzzle"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 1.77636e-15, 1, 0, 0, 0 )
script = ExtResource( 2 )
open_axis = "Y"
open_position = -12.0

[node name="Obj2" parent="Puzzle3/Door/Puzzle/Door2" instance=ExtResource( 6 )]
transform = Transform( -8.9407e-08, -7.45058e-09, 1, -5.96046e-08, 1, 1.2666e-07, -1, -5.66244e-07, 1.78814e-07, 0, 13, -3.05176e-05 )

[node name="Obj" parent="Puzzle3/Door/Puzzle/Door2" instance=ExtResource( 6 )]
transform = Transform( -8.9407e-08, -7.45058e-09, 1, -5.96046e-08, 1, 1.2666e-07, -1, -5.66244e-07, 1.78814e-07, 0, -3.05176e-05, -3.05176e-05 )

[node name="Obj3" parent="Puzzle3/Door/Puzzle/Door2" instance=ExtResource( 6 )]
transform = Transform( -2.18557e-08, -0.5, 0, 0.5, -2.18557e-08, 3.55271e-15, -4.44089e-16, 0, 0.5, -7.98215, 10.8684, -2.63846 )

[node name="Obj5" parent="Puzzle3/Door/Puzzle/Door2" instance=ExtResource( 6 )]
transform = Transform( -2.18557e-08, -0.5, 0, 0.5, -2.18557e-08, 3.55271e-15, -4.44089e-16, 0, 0.5, -3.73386, 6.77815, 4.45166 )

[node name="Obj6" parent="Puzzle3/Door/Puzzle/Door2" instance=ExtResource( 6 )]
transform = Transform( 0.246171, -0.434241, 0.0288919, 0.43518, 0.245293, -0.0211948, 0.00423332, 0.0355815, 0.498715, -9.18546, 9.8704, 4.69839 )

[node name="Obj4" parent="Puzzle3/Door/Puzzle/Door2" instance=ExtResource( 6 )]
transform = Transform( -2.18557e-08, -0.5, 0, 0.5, -2.18557e-08, 3.55271e-15, -4.44089e-16, 0, 0.5, -1.25546, 22.7702, 4.73114 )

[node name="Source9" parent="Puzzle3/Door/Puzzle/Door2" instance=ExtResource( 9 )]
transform = Transform( -0.707107, 1.78814e-07, -0.707107, 0.707106, -1.90221e-08, -0.707106, -3.57628e-07, -0.999998, 5.96046e-08, -8.75049, 12.3284, 0.373901 )

[node name="doorOpen" type="AudioStreamPlayer3D" parent="Puzzle3/Door/Puzzle/Door2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -64, 37.5, 118.75 )
stream = ExtResource( 5 )
unit_size = 7.6
max_db = 1.0

[node name="doorClose" type="AudioStreamPlayer3D" parent="Puzzle3/Door/Puzzle/Door2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -64, 37.5, 118.75 )
stream = ExtResource( 4 )
unit_size = 7.6
max_db = 1.0

[node name="Source2" parent="Puzzle3" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 2.38418e-07, 0.999999, -1.49012e-07, 3.27826e-07, -1.19209e-07, 1, -10.1991, -11.231, 4.16357 )

[node name="Source3" parent="Puzzle3" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 2.38418e-07, 0.999999, -1.49012e-07, 3.27826e-07, -1.19209e-07, 1, -0.140472, -11.2187, -12.144 )

[node name="Source4" parent="Puzzle3" instance=ExtResource( 9 )]
transform = Transform( 0.853554, 0.499999, 0.146447, -0.5, 0.707105, 0.5, 0.146447, -0.499999, 0.853554, 7.17444, -4.11339, -5.94244 )

[node name="Source5" parent="Puzzle3" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 2.38418e-07, 0.999997, -1.49012e-07, 3.27826e-07, -1.19209e-07, 1, 1.013, -1.60489, 0.291199 )

[node name="Source6" parent="Puzzle3" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 2.38418e-07, 0.999997, -1.49012e-07, 3.27826e-07, -1.19209e-07, 1, 10.0393, -1.60489, 9.3176 )

[node name="Source7" parent="Puzzle3" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 2.38418e-07, 0.999996, -1.49012e-07, 3.27826e-07, -1.19209e-07, 1, 28.9608, -1.60489, -9.60397 )

[node name="Source8" parent="Puzzle3" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 2.38418e-07, 0.999996, -1.49012e-07, 3.27826e-07, -1.19209e-07, 1, 14.2834, -1.60489, -24.2813 )

[node name="Checkpoint" parent="Puzzle3" instance=ExtResource( 11 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 12.8854, -6.19687, -8.11758 )

[node name="battery" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.94399, -22.9685, -37.3395 )

[node name="battery2" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.10577, -22.9685, -44.948 )

[node name="battery3" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.26186, -34.4014, -48.0346 )
